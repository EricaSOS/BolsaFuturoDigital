// Com base nos conhecimentos já adquiridos, reescreva o desafio do caixa de supermercado em TS.

type Produto = {
    descricaoProduto: string,
    quantidadeProduto: number,
    valorUnidade: number,
    produtoSubTotal: number
}

const carrinho: Array<Produto> = []

let itemCupom: number
let valorTotalCompra: number = 0

function itensCarrinho (): void {
    let descricaoProduto: string = String(prompt("Para finalizar, deixe o Produto em branco.\n PRODUTO:"))
    
    while(descricaoProduto != ""){
        let quantidadeProduto: number = Number(prompt("Quantidade de produtos: "))
        let valorUnidade: number = Number(prompt("Valor do produto (R$)"))
        let produtoSubTotal: number = quantidadeProduto * valorUnidade
        valorTotalCompra = valorTotalCompra + produtoSubTotal

        carrinho.push(
            {
                descricaoProduto: descricaoProduto,
                quantidadeProduto: quantidadeProduto,
                valorUnidade: valorUnidade,
                produtoSubTotal: produtoSubTotal
            }
        )

        descricaoProduto = String(prompt("Informe o produto:"))  
    }
}

function imprimirCupomFiscal(): void {
    itensCarrinho()
    console.log("              CUPOM DA VENDA              ")
    console.log("---------------------------------------------------")
    console.log("ITEM       DESCRIÇÃO\nQTD   VALOR      TOTAL")
    console.log("---------------------------------------------------")
    for(itemCupom = 0; itemCupom <= carrinho.length-1; itemCupom++){  
        let produto: Produto = carrinho[itemCupom]
        console.log((++itemCupom) + "          " + produto.descricaoProduto)
        console.log(produto.valorUnidade + "       " + produto.quantidadeProduto + "       "+ produto.produtoSubTotal) 
    }
    console.log("---------------------------------------------------------")
    console.log("TOTAL R$                " + valorTotalCompra.toFixed(2).replace(".",","))
}

itensCarrinho()
imprimirCupomFiscal()

