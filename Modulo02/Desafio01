// Com base nos conhecimentos já adquiridos, reescreva o desafio do caixa de supermercado em TS.

type Produto = {
    descricaoProduto: string,
    quantidadeProduto: number,
    valorUnidade: number,
    produtoSubTotal: number
}

const carrinho: Array<Produto> = []

let itemCupom: number
let valorTotalCompra: number

const itensCarrinho = (itemCarrinho: Produto): void => {
    itemCarrinho.descricaoProduto = String(prompt("Para finalizar, deixe o Produto vazio.\n PRODUTO:"))
    
    for(itemCupom = 0; itemCarrinho.descricaoProduto != null; itemCupom++){
        itemCarrinho.quantidadeProduto = Number(prompt("Quantidade de produtos: "))
        itemCarrinho.valorUnidade = Number(prompt("Valor do produto (R$)"))
        itemCarrinho.produtoSubTotal = itemCarrinho.quantidadeProduto * itemCarrinho.valorUnidade
        valorTotalCompra = valorTotalCompra + itemCarrinho.quantidadeProduto

        carrinho.push(
            {
                descricaoProduto: itemCarrinho.descricaoProduto,
                quantidadeProduto: itemCarrinho.quantidadeProduto,
                valorUnidade: itemCarrinho.valorUnidade,
                produtoSubTotal: itemCarrinho.produtoSubTotal
            }
        )

        itemCarrinho.descricaoProduto = String(prompt("Informe o produto:"))  
    }
        
}

const imprimirCupomFiscal = (carrinho: Array<Produto>) => {
    console.log("              CUPOM DA VENDA              ")
    console.log("---------------------------------------------------------")
    console.log("ITEM       DESCRIÇÃO\nQTD   VALOR      TOTAL")
    console.log("---------------------------------------------------------")
    for(itemCupom = 0; itemCupom < carrinho.length-1; itemCupom+=4){    
        console.log((itemCupom++) + "          " + carrinho[itemCupom])
        console.log(carrinho[itemCupom+1] + "       " + carrinho[itemCupom+2] + "       "+ carrinho[itemCupom+3]) 
        itemCupom++ 
    }
    console.log("---------------------------------------------------------")
    console.log("TOTAL R$                " + valorTotalCompra.toFixed(2).replace(".",","))
}
